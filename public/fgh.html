<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram Community</title>
    <style>
        body { font-family: Arial; padding: 20px; max-width: 800px; margin: 0 auto; }
        .card { background: #f5f5f5; padding: 20px; margin: 10px 0; border-radius: 10px; }
        button { background: #0088cc; color: white; border: none; padding: 10px 20px; margin: 5px; border-radius: 5px; cursor: pointer; }
        .post { background: white; padding: 15px; margin: 10px 0; border-radius: 5px; }
        .hidden { display: none; }
    </style>
</head>
<body>
    <div class="card">
        <h1>ü§ñ Telegram Community</h1>
        <div id="status">‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ</div>
    </div>

    <div id="auth" class="card">
        <h3>–í–æ–π—Ç–∏ –∫–∞–∫:</h3>
        <button onclick="login(123456789)">üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</button>
        <button onclick="login(8036875641)">üëë –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</button>
    </div>

    <div id="userInfo" class="card hidden">
        <h3>–ü—Ä–æ—Ñ–∏–ª—å</h3>
        <div id="profile"></div>
        <button onclick="logout()">–í—ã–π—Ç–∏</button>
    </div>

    <div id="adminPanel" class="card hidden">
        <h3>–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h3>
        <input type="text" id="title" placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫">
        <textarea id="content" placeholder="–¢–µ–∫—Å—Ç" rows="4"></textarea>
        <button onclick="createPost()">–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å</button>
    </div>

    <div class="card">
        <h3>–ù–æ–≤–æ—Å—Ç–∏</h3>
        <div id="posts">–î–µ–º–æ-—Ä–µ–∂–∏–º: –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ</div>
    </div>

    <script>
        let user = null;
        const ADMIN_ID = 8036875641;
        
        // –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –ø–æ—Å—Ç–æ–≤
        let posts = JSON.parse(localStorage.getItem('posts') || '[]');
        
        // –ï—Å–ª–∏ –ø–æ—Å—Ç–æ–≤ –Ω–µ—Ç, —Å–æ–∑–¥–∞–µ–º –¥–µ–º–æ-–ø–æ—Å—Ç
        if (posts.length === 0) {
            posts = [{
                id: 1,
                title: '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –Ω–∞—à–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ!',
                content: '–ú—ã —Ä–∞–¥—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –≤–∞—Å –≤ –Ω–∞—à–µ–º Telegram-—Å–æ–æ–±—â–µ—Å—Ç–≤–µ.',
                author_id: 8036875641,
                created_at: new Date().toISOString()
            }];
            localStorage.setItem('posts', JSON.stringify(posts));
        }

        function loadPosts() {
            posts = JSON.parse(localStorage.getItem('posts') || '[]');
            displayPosts(posts);
        }

        function displayPosts(posts) {
            const container = document.getElementById('posts');
            container.innerHTML = posts.map(post => `
                <div class="post">
                    <h4>${post.title}</h4>
                    <p>${post.content}</p>
                    <small>${new Date(post.created_at).toLocaleDateString('ru-RU')}</small>
                    ${user && user.id === ADMIN_ID ? 
                        `<button onclick="deletePost(${post.id})" style="background:red">–£–¥–∞–ª–∏—Ç—å</button>` : ''}
                </div>
            `).join('');
        }

        function login(userId) {
            user = {
                id: userId,
                telegram_id: userId,
                first_name: userId === ADMIN_ID ? '–ê–¥–º–∏–Ω' : '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å',
                last_name: '–¢–µ—Å—Ç'
            };
            showUserInterface();
            loadPosts();
            alert('–í—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω! (–¥–µ–º–æ-—Ä–µ–∂–∏–º)');
        }

        function showUserInterface() {
            document.getElementById('auth').classList.add('hidden');
            document.getElementById('userInfo').classList.remove('hidden');
            
            document.getElementById('profile').innerHTML = `
                <p>ID: ${user.id}</p>
                <p>–ò–º—è: ${user.first_name} ${user.last_name}</p>
                <p>–†–æ–ª—å: ${user.id === ADMIN_ID ? '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä' : '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å'}</p>
            `;

            if (user.id === ADMIN_ID) {
                document.getElementById('adminPanel').classList.remove('hidden');
            }
        }

        function logout() {
            user = null;
            document.getElementById('auth').classList.remove('hidden');
            document.getElementById('userInfo').classList.add('hidden');
            document.getElementById('adminPanel').classList.add('hidden');
            loadPosts();
        }

        function createPost() {
            const title = document.getElementById('title').value;
            const content = document.getElementById('content').value;

            const newPost = {
                id: Date.now(),
                title,
                content,
                author_id: user.id,
                created_at: new Date().toISOString()
            };

            posts.unshift(newPost);
            localStorage.setItem('posts', JSON.stringify(posts));
            
            document.getElementById('title').value = '';
            document.getElementById('content').value = '';
            loadPosts();
            alert('–ü–æ—Å—Ç —Å–æ–∑–¥–∞–Ω! (–¥–µ–º–æ-—Ä–µ–∂–∏–º)');
        }

        function deletePost(postId) {
            posts = posts.filter(post => post.id !== postId);
            localStorage.setItem('posts', JSON.stringify(posts));
            loadPosts();
            alert('–ü–æ—Å—Ç —É–¥–∞–ª–µ–Ω! (–¥–µ–º–æ-—Ä–µ–∂–∏–º)');
        }

        loadPosts();
    </script>
</body>
</html>